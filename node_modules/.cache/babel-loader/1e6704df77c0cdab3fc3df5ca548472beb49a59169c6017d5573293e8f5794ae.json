{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect } from \"react\";\n\n// Synchronize all video players within 0.3s drift\nexport function useSyncController(videoRefs) {\n  _s();\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const videos = videoRefs.current.map(ref => {\n        var _ref$current;\n        return (_ref$current = ref.current) === null || _ref$current === void 0 ? void 0 : _ref$current.video;\n      }).filter(Boolean);\n      if (videos.length < 2) return;\n\n      // Only sync if all are playing and ready\n      if (!videos.every(v => !v.paused && !v.seeking && v.readyState >= 2)) return;\n\n      // Get current times\n      const times = videos.map(v => v.currentTime);\n      const min = Math.min(...times);\n      const max = Math.max(...times);\n\n      // If drift is too large, sync\n      if (max - min > 0.3) {\n        videos.forEach((v, i) => {\n          if (times[i] < max - 0.1) {\n            // Nudge lagging video forward\n            v.currentTime = max - 0.05;\n          } else if (times[i] > min + 0.3) {\n            // Pause leading video briefly\n            v.pause();\n            setTimeout(() => v.play(), 150);\n          }\n        });\n      }\n    }, 500);\n    return () => clearInterval(interval);\n  }, [videoRefs]);\n}\n_s(useSyncController, \"OD7bBpZva5O2jO+Puf00hKivP7c=\");","map":{"version":3,"names":["useEffect","useSyncController","videoRefs","_s","interval","setInterval","videos","current","map","ref","_ref$current","video","filter","Boolean","length","every","v","paused","seeking","readyState","times","currentTime","min","Math","max","forEach","i","pause","setTimeout","play","clearInterval"],"sources":["C:/Users/Jayeshphale4/Desktop/video-streaming-dashboard/src/utils/syncController.js"],"sourcesContent":["import { useEffect } from \"react\";\n\n// Synchronize all video players within 0.3s drift\nexport function useSyncController(videoRefs) {\n  useEffect(() => {\n    const interval = setInterval(() => {\n      const videos = videoRefs.current.map(ref => ref.current?.video).filter(Boolean);\n      if (videos.length < 2) return;\n\n      // Only sync if all are playing and ready\n      if (!videos.every(v => !v.paused && !v.seeking && v.readyState >= 2)) return;\n\n      // Get current times\n      const times = videos.map(v => v.currentTime);\n      const min = Math.min(...times);\n      const max = Math.max(...times);\n\n      // If drift is too large, sync\n      if (max - min > 0.3) {\n        videos.forEach((v, i) => {\n          if (times[i] < max - 0.1) {\n            // Nudge lagging video forward\n            v.currentTime = max - 0.05;\n          } else if (times[i] > min + 0.3) {\n            // Pause leading video briefly\n            v.pause();\n            setTimeout(() => v.play(), 150);\n          }\n        });\n      }\n    }, 500);\n\n    return () => clearInterval(interval);\n  }, [videoRefs]);\n}"],"mappings":";AAAA,SAASA,SAAS,QAAQ,OAAO;;AAEjC;AACA,OAAO,SAASC,iBAAiBA,CAACC,SAAS,EAAE;EAAAC,EAAA;EAC3CH,SAAS,CAAC,MAAM;IACd,MAAMI,QAAQ,GAAGC,WAAW,CAAC,MAAM;MACjC,MAAMC,MAAM,GAAGJ,SAAS,CAACK,OAAO,CAACC,GAAG,CAACC,GAAG;QAAA,IAAAC,YAAA;QAAA,QAAAA,YAAA,GAAID,GAAG,CAACF,OAAO,cAAAG,YAAA,uBAAXA,YAAA,CAAaC,KAAK;MAAA,EAAC,CAACC,MAAM,CAACC,OAAO,CAAC;MAC/E,IAAIP,MAAM,CAACQ,MAAM,GAAG,CAAC,EAAE;;MAEvB;MACA,IAAI,CAACR,MAAM,CAACS,KAAK,CAACC,CAAC,IAAI,CAACA,CAAC,CAACC,MAAM,IAAI,CAACD,CAAC,CAACE,OAAO,IAAIF,CAAC,CAACG,UAAU,IAAI,CAAC,CAAC,EAAE;;MAEtE;MACA,MAAMC,KAAK,GAAGd,MAAM,CAACE,GAAG,CAACQ,CAAC,IAAIA,CAAC,CAACK,WAAW,CAAC;MAC5C,MAAMC,GAAG,GAAGC,IAAI,CAACD,GAAG,CAAC,GAAGF,KAAK,CAAC;MAC9B,MAAMI,GAAG,GAAGD,IAAI,CAACC,GAAG,CAAC,GAAGJ,KAAK,CAAC;;MAE9B;MACA,IAAII,GAAG,GAAGF,GAAG,GAAG,GAAG,EAAE;QACnBhB,MAAM,CAACmB,OAAO,CAAC,CAACT,CAAC,EAAEU,CAAC,KAAK;UACvB,IAAIN,KAAK,CAACM,CAAC,CAAC,GAAGF,GAAG,GAAG,GAAG,EAAE;YACxB;YACAR,CAAC,CAACK,WAAW,GAAGG,GAAG,GAAG,IAAI;UAC5B,CAAC,MAAM,IAAIJ,KAAK,CAACM,CAAC,CAAC,GAAGJ,GAAG,GAAG,GAAG,EAAE;YAC/B;YACAN,CAAC,CAACW,KAAK,CAAC,CAAC;YACTC,UAAU,CAAC,MAAMZ,CAAC,CAACa,IAAI,CAAC,CAAC,EAAE,GAAG,CAAC;UACjC;QACF,CAAC,CAAC;MACJ;IACF,CAAC,EAAE,GAAG,CAAC;IAEP,OAAO,MAAMC,aAAa,CAAC1B,QAAQ,CAAC;EACtC,CAAC,EAAE,CAACF,SAAS,CAAC,CAAC;AACjB;AAACC,EAAA,CA/BeF,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}